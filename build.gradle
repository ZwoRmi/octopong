repositories {
    mavenCentral()
    jcenter()
}

apply plugin: 'idea'
apply plugin: 'java'
apply plugin: 'jacoco'
compileJava.options.encoding = 'UTF-8'

dependencies {
    testCompile 'junit:junit:4.10'
    testCompile 'org.mockito:mockito-core:1.+'
}

test {
    testLogging {
        events 'failed'
    }
}

jacocoTestReport {
    reports {
        xml {
            enabled true // coveralls plugin depends on xml format report
        }

        html {
            enabled true
        }
    }

    afterEvaluate {
        classDirectories = files(classDirectories.files.collect {
            fileTree(dir: it,
                    exclude: ['**/View/**',
                              '**/Util/**'])
        })
    }
}
